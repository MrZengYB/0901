import{F as h,C as l,J as f,k as v,R as b,M as m,s as o,e as w,Z as u,f as g,v as y,Q as r}from"./index.20ecfab8.js";var A=Object.defineProperty,C=(e,t,s)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,n=(e,t,s)=>(C(e,typeof t!="symbol"?t+"":t,s),s);const a=50,p=new WeakMap,c=class extends h{constructor(){super(),n(this,"bufferAttribute",new l(new Float32Array(a*3),3)),n(this,"curve",new f([],void 0,"catmullrom",.5));const e=new v;e.setAttribute("position",this.bufferAttribute);const t=new b({color:16711680,opacity:.35}),s=new m(e,t);o.add(s),this.then(()=>{e.dispose(),t.dispose(),o.remove(s)})}update(){c.update(this,this)}get points(){return this.curve.points.map(w)}set points(e){this.curve.points=e.map(u),this.update()}addPoint(e){const t=u(e);this.curve.points.push(t),p.set(e,t),this.update()}removePoint(e){const t=p.get(e);!t||(g(this.curve.points,t),this.update())}};let P=c;n(P,"update",y(e=>{const{bufferAttribute:t,curve:s}=e;if(t.needsUpdate=!0,s.points.length<2){for(let i=0;i<a;++i)t.setXYZ(i,0,0,0);return}for(let i=0;i<a;++i){const d=i/(a-1);s.getPoint(d,r),t.setXYZ(i,r.x,r.y,r.z)}},0,"trailing"));export{P as default};
